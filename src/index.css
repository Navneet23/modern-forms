@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom focus styles for accessibility */
*:focus-visible {
  @apply outline-2 outline-primary-500 outline-offset-2;
}

/* Smooth transitions respecting user preferences */
@media (prefers-reduced-motion: no-preference) {
  .transition-smooth {
    @apply transition-all duration-200 ease-out;
  }
}

@media (prefers-reduced-motion: reduce) {
  .transition-smooth {
    transition: none !important;
  }
}

/* Skip link for accessibility */
.skip-link {
  @apply absolute -left-[9999px] top-auto w-px h-px overflow-hidden;
}

.skip-link:focus {
  @apply fixed top-0 left-0 w-auto h-auto p-4 bg-primary-600 text-white z-[9999];
}

/* Question slide animations */
@media (prefers-reduced-motion: no-preference) {
  .slide-enter {
    opacity: 0;
    transform: translateX(50px);
  }

  .slide-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 300ms ease-out, transform 300ms ease-out;
  }

  .slide-exit {
    opacity: 1;
    transform: translateX(0);
  }

  .slide-exit-active {
    opacity: 0;
    transform: translateX(-50px);
    transition: opacity 300ms ease-out, transform 300ms ease-out;
  }

  .slide-back-enter {
    opacity: 0;
    transform: translateX(-50px);
  }

  .slide-back-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 300ms ease-out, transform 300ms ease-out;
  }

  .slide-back-exit {
    opacity: 1;
    transform: translateX(0);
  }

  .slide-back-exit-active {
    opacity: 0;
    transform: translateX(50px);
    transition: opacity 300ms ease-out, transform 300ms ease-out;
  }
}

/* Custom radio and checkbox styling */
.custom-radio,
.custom-checkbox {
  @apply appearance-none w-5 h-5 border-2 border-gray-300 bg-white cursor-pointer flex-shrink-0;
}

.custom-radio {
  @apply rounded-full;
}

.custom-checkbox {
  @apply rounded;
}

.custom-radio:checked,
.custom-checkbox:checked {
  @apply border-primary-500 bg-primary-500;
}

.custom-radio:checked {
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");
}

.custom-checkbox:checked {
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

.custom-radio:focus-visible,
.custom-checkbox:focus-visible {
  @apply outline-2 outline-primary-500 outline-offset-2;
}

/* Progress bar */
.progress-bar {
  @apply h-1 bg-gray-200 rounded-sm overflow-hidden;
}

.progress-bar-fill {
  @apply h-full bg-primary-500 transition-all duration-300 ease-out;
}
